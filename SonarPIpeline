
pipeline {

  agent any
  tools {
       maven 'Maven'
   }
  stages {

       stage('SonarCloudScan') {
       
	       environment {
	    		 SCANNER_HOME = tool 'sonarScanner'
	  		}
           steps {
              snDevOpsStep()

               withSonarQubeEnv('Sonar_Cloud') {
			       sh '${SCANNER_HOME}/bin/sonar-scanner -Dproject.settings=${SCANNER_HOME}/conf/sonar-scanner-cloud.properties'
		       
        		}
	       
           }
           post {
               always {
                junit "**/target/surefire-reports/*.xml"
             	}
           }
       }
 
}
