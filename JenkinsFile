def artifactname = "sp-boot-app.jar"
def repoName = "sp-boot-app-repo"
def pipelineName = "devops_vk_pipeline"
def semanticVersion = "${env.BUILD_NUMBER}.0.0"
def packageName = "spboot-package_${env.BUILD_NUMBER}"
def version = "${env.BUILD_NUMBER}.0"
pipeline {
  agent any
  tools {
       maven 'Maven'
   }
  stages {
       stage('Build') {
           steps {
              snDevOpsStep()
              sh 'mvn -B -DskipTests clean compile'
           }
       }
       stage('Test') {
           steps {
              snDevOpsStep()
               sh 'mvn test'
           }
           post {
                    always {
                junit "**/target/surefire-reports/*.xml"
             }
           }
       }
      stage('Deploy') {
                 steps {
                    snDevOpsStep()
                    echo 'Deploying....'
                 }
      }

     
 }
}